{
	"customizations": {
		"vscode": {
			"extensions": [
				"ms-python.python",
				"ms-python.vscode-pylance",
				"charliermarsh.ruff",
				"njpwerner.autodocstring",
				"tamasfe.even-better-toml",
				"ms-python.mypy-type-checker",
				"ms-ossdata.vscode-pgsql",
				"redhat.vscode-yaml"
			],
			"settings": {
				"[yaml]": {
					"editor.defaultFormatter": "redhat.vscode-yaml"
				},
				"[yml]": {
					"editor.defaultFormatter": "redhat.vscode-yaml"
				},
				"editor.codeActionsOnSave": {
					"source.fixAll": "always",
					"source.organizeImports": "always"
				},
				"editor.formatOnSave": true,
				"mypy-type-checker.path": [
					"/home/vscode/.venv/bin/mypy"
				],
				"python.analysis.typeCheckingMode": "off",
				"python.defaultInterpreterPath": "/home/vscode/.venv/bin/python",
				"python.testing.pytestArgs": [
					"tests"
				],
				"python.testing.pytestEnabled": true,
				"python.testing.unittestEnabled": false
			}
		}
	},
	"dockerComposeFile": [
		"docker-compose.yml"
	],
	"features": {
		"ghcr.io/devcontainers/features/docker-outside-of-docker:1": {
			"moby": false
		},
		"ghcr.io/devcontainers/features/git:1": {},
		"ghcr.io/devcontainers/features/python:1": {
			"installTools": true,
			"version": "3.12"
		}
	},
	"mounts": [
		"source=${localEnv:USERPROFILE}/.ssh/id_rsa,target=/home/vscode/.ssh/id_rsa,type=bind,consistency=cached,readonly",
		"source=${localEnv:HOME}${localEnv:USERPROFILE}/.ssh,target=/home/vscode/.ssh,type=bind,consistency=cached"
	],
	"name": "Library DevContainer",
	"postCreateCommand": "pip install --upgrade pip && pip install -e '.[dev,docs]' && pre-commit install",
	"postStartCommand": "sudo chown -R vscode:vscode /home/vscode/.ssh && chmod 700 /home/vscode/.ssh && chmod 600 /home/vscode/.ssh/* 2>/dev/null || true",
	"remoteUser": "vscode",
	"service": "devcontainer",
	"shutdownAction": "stopCompose",
	"workspaceFolder": "/home/vscode/app"
}

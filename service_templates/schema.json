{
	"$schema": "http://json-schema.org/draft-07/schema#",
	"additionalProperties": false,
	"dependencies": {
		"dockerfile": {
			"properties": {
				"type": {
					"const": "build"
				}
			}
		},
		"image": {
			"properties": {
				"type": {
					"const": "image"
				}
			}
		}
	},
	"properties": {
		"$schema": {
			"type": "string"
		},
		"args": {
			"items": {
				"type": "string"
			},
			"type": [
				"array",
				"null"
			]
		},
		"default_contents": {
			"description": "Array of default file contents to create in the container.",
			"items": {
				"additionalProperties": false,
				"properties": {
					"content": {
						"description": "The content of the file",
						"type": "string"
					},
					"location": {
						"description": "The file path inside the container",
						"type": "string"
					}
				},
				"required": [
					"location",
					"content"
				],
				"type": "object"
			},
			"type": "array"
		},
		"default_env": {
			"items": {
				"additionalProperties": {
					"type": "string"
				},
				"maxProperties": 2,
				"minProperties": 2,
				"properties": {
					"key": {
						"type": "string"
					},
					"value": {
						"type": "string"
					}
				},
				"required": [
					"key",
					"value"
				],
				"type": "object"
			},
			"type": "array"
		},
		"default_ports": {
			"items": {
				"oneOf": [
					{
						"additionalProperties": false,
						"properties": {
							"container": {
								"type": "integer"
							},
							"host": {
								"type": [
									"integer",
									"null"
								]
							}
						},
						"required": [
							"container"
						]
					},
					{
						"additionalProperties": {
							"type": "integer"
						},
						"maxProperties": 1,
						"minProperties": 1
					}
				],
				"type": "object"
			},
			"type": "array"
		},
		"default_volumes": {
			"description": "Array of volume mounts with named fields format.",
			"items": {
				"additionalProperties": false,
				"properties": {
					"container": {
						"type": "string"
					},
					"host": {
						"type": [
							"string",
							"null"
						]
					}
				},
				"required": [
					"container"
				],
				"type": "object"
			},
			"type": "array"
		},
		"description": {
			"type": "string"
		},
		"dockerfile": {
			"type": [
				"string",
				"null"
			]
		},
		"docs_url": {
			"type": "string"
		},
		"healthcheck": {
			"additionalProperties": false,
			"properties": {
				"interval": {
					"minimum": 0,
					"type": "integer"
				},
				"retries": {
					"minimum": 0,
					"type": "integer"
				},
				"start_period": {
					"minimum": 0,
					"type": "integer"
				},
				"test": {
					"items": {
						"type": "string"
					},
					"minItems": 1,
					"type": "array"
				},
				"timeout": {
					"minimum": 0,
					"type": "integer"
				}
			},
			"type": [
				"object",
				"null"
			]
		},
		"image": {
			"type": "string"
		},
		"labels": {
			"items": {
				"additionalProperties": {
					"type": "string"
				},
				"maxProperties": 2,
				"minProperties": 2,
				"properties": {
					"key": {
						"type": "string"
					},
					"value": {
						"type": "string"
					}
				},
				"required": [
					"key",
					"value"
				],
				"type": "object"
			},
			"type": "array"
		},
		"name": {
			"minLength": 1,
			"type": "string"
		},
		"start_cmd": {
			"items": {
				"type": "string"
			},
			"type": [
				"string",
				"array",
				"null"
			]
		},
		"type": {
			"enum": [
				"image",
				"build"
			],
			"type": "string"
		}
	},
	"required": [
		"name",
		"type"
	],
	"title": "Template",
	"type": "object"
}

{
	"$schema": "https://raw.githubusercontent.com/kristiankunc/svs-core/refs/heads/main/service_templates/schema.json",
	"args": [],
	"default_env": [
		{
			"key": "DEBUG",
			"value": "True"
		},
		{
			"key": "DJANGO_SETTINGS_MODULE",
			"value": "project.settings"
		}
	],
	"default_ports": [
		{
			"container": 8000,
			"host": null
		}
	],
	"default_volumes": [
		{
			"container": "/app/data",
			"host": null
		}
	],
	"description": "Django application container built on-demand from source",
	"dockerfile": "FROM python:3.13-slim AS builder\n\nENV PYTHONDONTWRITEBYTECODE=1\nENV PYTHONUNBUFFERED=1 \n\nWORKDIR /app\n\nCOPY requirements.txt .\n\nRUN pip install --upgrade pip\nRUN pip install --user -r requirements.txt\nRUN pip install --user gunicorn\n\nRUN python manage.py collectstatic --noinput || true\n\nFROM python:3.13-slim\n\nCOPY --from=builder /usr/local/lib/python3.13/site-packages/ /usr/local/lib/python3.13/site-packages/\nCOPY --from=builder /usr/local/bin/ /usr/local/bin/\n\nENV PYTHONDONTWRITEBYTECODE=1\nENV PYTHONUNBUFFERED=1 \n\nEXPOSE 8000\n\nCMD [\"gunicorn\", \"--bind\", \"0.0.0.0:8000\", \"--workers\", \"3\", \"my_docker_django_app.wsgi:application\"]",
	"healthcheck": {
		"interval": 30,
		"retries": 3,
		"start_period": 5,
		"test": [
			"CMD",
			"curl",
			"-f",
			"http://localhost:8000/"
		],
		"timeout": 10
	},
	"name": "django-app",
	"start_cmd": "python manage.py runserver 0.0.0.0:8000",
	"type": "build"
}
